Textzy Requirement Status (Latest)
Date: 2026-02-20

Completed in latest cycle:
1. Frontend dependency stability
- Added frontend/package-lock.json
- Enforced npm ci in CI
- Removed deploy-time audit-fix-force usage from workflow/config

2. Platform settings persistence
- Added backend APIs for platform settings
- Added encrypted secret storage service
- Added audit log model + write service
- Wired frontend platform settings page to backend save/load

3. Templates module hardening
- Fixed create-template modal overflow/save visibility (scrollable body + sticky footer)
- Implemented WhatsApp template validations:
  - category guard
  - variable sequence guard
  - body size guard
- Implemented SMS DLT validations:
  - dltEntityId required
  - dltTemplateId required
  - smsSenderId required (3-6 chars)
- Added SMS Sender storage and API:
  - GET/POST /api/sms/senders

4. UI navigation updates
- Added sidebar Template submenus:
  - Templates > WhatsApp
  - Templates > SMS
- Added SMS mode flow with CSV upload support

5. Inbox working baseline
- Removed interval polling path and kept SignalR driven refresh
- Added strict template variable completeness validation before fallback send

In-progress / Pending:
1. Stabilize sender-add + save flow with production validation feedback on all edge cases
2. End-to-end test coverage (auth/project switch/templates/inbox)
3. Monitoring and alert setup for webhook and queue failures
4. Full RBAC UI hide/disable sweep for all pages/actions

Update: 2026-02-21
- Automation flow builder upgraded with WhatsApp-style canvas node rendering.
- Added richer node palette with icons and expanded WhatsApp bot node options.
- Added Form node support (multi-field config and preview).
- Added template variable mapping validation in builder and publish guard.
- Removed hard quick-reply cap in builder UI as requested.
- Fixed JSX template-label syntax compile failure.
- Fixed CONTENTS panel usability: wider panel, proper scroll, click-safe interactions, no overlap.

Update: 2026-02-21 (Contacts)
- Added contact Segment mapping support (backend + frontend).
- Contacts now return segment name in list API for UI display.
- Added SegmentId to contact schema and upsert request.
- Outbound message send now auto-creates/updates contact by recipient number.
- Dashboard Contacts page now uses real segments API, supports create segment, and maps segment while creating contact.
- WABA Contacts page updated to map segment on add/edit and display segment column.

Update: 2026-02-21 (Contact actions)
- Fixed dashboard Contacts actions: Edit, Add Tag, Send Message, Call, Delete.
- Added bulk Add Tag action support for selected contacts.
- Added edit/send dialogs with backend wiring.
- Added contact Email/Tags persistence in backend and schema.
- Inbound webhook now updates existing contact name when available.

Update: 2026-02-21 (Contact default New)
- Enforced default contact attributes for all newly created contacts:
  - Default Segment: New (auto-created per tenant if missing)
  - Default Tag: New
- Applied to all entry points: manual add, CSV import, outbound auto-create, inbound WABA webhook auto-create.

Update: 2026-02-21 (Project switch logout fix)
- Fixed auto-logout after project selection by using full redirect after create/switch in project selection flow.
- Prevents stale auth-guard state in SPA route gate from sending user back to login.

Update: 2026-02-21 (Team module real APIs + wiring)
- Added backend Team APIs with tenant-scoped access and RBAC gate (owner/admin/super_admin):
  - GET /api/team/members
  - POST /api/team/invite
  - PATCH /api/team/members/{userId}/role
  - DELETE /api/team/members/{userId}
  - GET /api/team/members/{userId}/activity
- Added team audit events for invite/role update/remove in AuditLogs.
- Replaced Team page mock data with real API wiring:
  - live member list, search, role stats
  - invite member dialog (name/email/role)
  - edit role action + persistence
  - remove member action + persistence
  - view activity dialog (member audit trail)
- Added frontend apiPatch helper for PATCH calls.

Update: 2026-02-21 (Team completion)
- Implemented SMTP-backed email invite delivery with secure opaque invite token links.
- Added invite lifecycle state model (`pending`, `accepted`, expiry, send count) and resend invitation workflow.
- Added public invite acceptance API (`POST /api/auth/accept-invite`) and frontend accept-invite page.
- Team members API now returns invitation-aware status.
- Implemented fine-grained per-member permission override APIs and persisted override model.
- Auth middleware now resolves effective permissions as Role permissions +/- member overrides.
- Team UI now includes:
  - Resend Invitation action for pending invites
  - Role & Permissions dialog with per-permission override toggles
  - Backend-wired save for overrides
